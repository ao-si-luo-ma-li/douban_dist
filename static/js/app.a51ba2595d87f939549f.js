webpackJsonp([2,0],[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var o=i(89),n=s(o),a=i(30),r=s(a),u=i(88),c=s(u),l=i(132),d=s(l);n.default.use(c.default);var v=new c.default({routes:d.default});new n.default({router:v,el:"#app",template:"<App/>",components:{App:r.default}})},,,,function(t,e,i){var s,o;i(62),s=i(125);var n=i(79);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-18155608",t.exports=s},,,function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return new v.default(function(e,i){m.default.get(p+t).then(function(t){e(t.data)})})}function n(t){return o(""+t)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return n("movie/"+t+"?start="+e+"&count="+i)}function r(t){return o("movie/subject/"+t)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=encodeURI("movie/search?q="+t+"&start="+e);return o(i)}function c(t){return o("book/"+t)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=encodeURI("book/search?q="+t+"&start="+e);return o(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.API_TYPE=void 0;var d=i(133),v=s(d);e.fetch=o,e.fetchItemByType=n,e.fetchMoviesByType=a,e.fetchSubjectById=r,e.fetchSearchMovie=u,e.fetchBookById=c,e.fetchSearchBook=l;var f=i(44),m=s(f),p="api/";e.API_TYPE={movie:{in_theaters:"in_theaters",coming_soon:"coming_soon",top250:"top250"},book:{book:"book"}}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var s,o;i(65),s=i(123);var n=i(82);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,t.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){var s,o;i(69),s=i(124);var n=i(86);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-cd20c70c",t.exports=s},function(t,e,i){var s,o;i(67),s=i(126);var n=i(84);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-8ec79140",t.exports=s},function(t,e,i){var s,o;i(63),s=i(127);var n=i(80);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-4c4a664e",t.exports=s},function(t,e,i){var s,o;i(64),s=i(128);var n=i(81);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-7870d158",t.exports=s},function(t,e,i){var s,o;i(68),s=i(129);var n=i(85);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-989d2a36",t.exports=s},function(t,e,i){var s,o;i(66),s=i(130);var n=i(83);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-861953e6",t.exports=s},function(t,e,i){var s,o;i(70),s=i(131);var n=i(87);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-e3276f6e",t.exports=s},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("transition",{attrs:{name:"load"}},[e("svg",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"spinner",class:{myshow:t.show},attrs:{width:"40px",height:"40px",viewBox:"0 0 40 40"}},[e("circle",{staticClass:"path",attrs:{cx:"20",cy:"20",r:"17"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"which"},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"},{name:"show",rawName:"v-show",value:t.movieList.books.length,expression:"movieList.books.length"}],staticClass:"movieList",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[e("p",[t._v('搜索 "'+t._s(this.query)+' " 的结果')]),t._v(" "),e("ul",t._l(t.movieList.books,function(i){return e("li",[e("router-link",{attrs:{to:{name:"book-detail",params:{id:i.id}}}},[e("img",{attrs:{src:i.images.medium,alt:""}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(i.title))])])])})),t._v(" "),e("p",{staticClass:"totals"},[t._v("搜索的结果数："),e("b",[t._v(t._s(t.movieList.total))])]),t._v(" "),e("spinner",{attrs:{show:t.show,name:"which"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",[t.subjectDetail.title?e("section",[e("div",{staticClass:"title"},[t._v(t._s(t.subjectDetail.title))]),t._v(" "),e("div",{staticClass:"post"},[e("img",{attrs:{src:t.subjectDetail.images.large,alt:""}})]),t._v(" "),e("div",{staticClass:"movieInfo"},[e("p",{staticClass:"score"},[t._v("评分："),e("b",[t._v(t._s(t.subjectDetail.rating.average))])]),t._v(" "),e("div",{staticClass:"player"},[t._v("\n                "+t._s(t.subjectDetail.countries.join(" / "))+" "+t._s(t.subjectDetail.genres.join(" / "))+"\n                "),t._l(t.subjectDetail.casts,function(e){return[t._v("\n                    "+t._s(e.name)+" /\n                ")]})],!0),t._v(" "),e("ul",{staticClass:"wantoSee"},[e("li",[t._v("想看"+t._s(t.subjectDetail.wish_count))]),t._v(" "),e("li",[t._v("评论"+t._s(t.subjectDetail.reviews_count))])]),t._v(" "),e("p",{staticClass:"intro"},[t._v(t._s(t.subjectDetail.original_title)+"的剧情介绍")]),t._v(" "),e("summary",[t._v("\n                "+t._s(t.subjectDetail.summary)+"\n            ")])])]):t._e(),t._v(" "),e("spinner",{attrs:{show:t.show}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",[e("v-header"),t._v(" "),t._v(" "),e("router-view")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",[e("section",{directives:[{name:"show",rawName:"v-show",value:t.inTheater.title,expression:"inTheater.title"}],staticClass:"movies"},[e("div",{staticClass:"onNow movieList"},[e("h2",[t._v(t._s(t.inTheater.title)+" "),e("router-link",{attrs:{to:{name:"movie-list",query:{type:t.inTheater.type}}}},[t._v("更多 >>")])]),t._v(" "),e("ul",t._l(t.inTheater.subjects,function(i){return e("li",[e("router-link",{attrs:{to:{name:"movie-detail",params:{id:i.id}}}},[e("img",{attrs:{src:i.images.medium,alt:""}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(i.title))])])])}))]),t._v(" "),e("div",{staticClass:"comingSoon movieList"},[e("h2",[t._v(t._s(t.comingSoon.title)+" "),e("router-link",{attrs:{to:{name:"movie-list",query:{type:t.comingSoon.type}}}},[t._v("更多 >> ")])]),t._v(" "),e("ul",t._l(t.comingSoon.subjects,function(i){return e("li",[e("router-link",{attrs:{to:{name:"movie-detail",params:{id:i.id}}}},[e("img",{attrs:{src:i.images.medium,alt:""}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(i.title))])])])}))]),t._v(" "),e("div",{staticClass:"movieList"},[e("h2",[t._v(t._s(t.top250.title)+" "),e("router-link",{attrs:{to:{name:"movie-list",query:{type:t.top250.type}}}},[t._v("更多 >> ")])]),t._v(" "),e("ul",t._l(t.top250.subjects,function(i){return e("li",[e("router-link",{attrs:{to:{name:"movie-detail",params:{id:i.id}}}},[e("img",{attrs:{src:i.images.medium,alt:""}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(i.title))])])])}))])]),t._v(" "),e("spinner",{attrs:{show:t.show}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",[t.bookDetail.title?e("section",[e("div",{staticClass:"title"},[t._v(t._s(t.bookDetail.title))]),t._v(" "),e("div",{staticClass:"post"},[e("img",{attrs:{src:t.bookDetail.images.large,alt:""}})]),t._v(" "),e("div",{staticClass:"movieInfo"},[e("p",{staticClass:"score"},[t._v("评分："),e("b",[t._v(t._s(t.bookDetail.rating.average))])]),t._v(" "),e("div",{staticClass:"player"},[t._v("\n                作者："+t._s(t.bookDetail.author.join(" / "))+" 译者"+t._s(t.bookDetail.translator.join(" / "))+"\n                "),e("p",[t._v(" 图书标签\n                    "),t._l(t.bookDetail.tags,function(i){return e("span",[t._v("\n                        "+t._s(i.name)+" /\n                    ")])})],!0)]),t._v(" "),e("ul",{staticClass:"wantoSee"},[e("li",[t._v("评论人数"+t._s(t.bookDetail.rating.numRaters))]),t._v(" "),e("li",[t._v("价格"+t._s(t.bookDetail.price))])]),t._v(" "),e("p",{staticClass:"intro"},[t._v(t._s(t.bookDetail.title)+"的剧情介绍")]),t._v(" "),e("summary",[t._v("\n                "+t._s(t.bookDetail.summary)+"\n            ")]),t._v(" "),e("a",{attrs:{href:t.bookDetail.ebook_url}},[t._v("电子书地址")])])]):t._e(),t._v(" "),e("spinner",{attrs:{show:t.show}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"movieList",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.movieList.subjects,expression:"movieList.subjects"}]},t._l(t.movieList.subjects,function(i){return e("li",[e("router-link",{attrs:{to:{name:"movie-detail",params:{id:i.id}}}},[e("img",{attrs:{src:i.images.medium,alt:""}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(i.title))])])])})),t._v(" "),e("spinner",{attrs:{show:t.show}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"douTop"},[e("div",{staticClass:"title"},[e("router-link",{attrs:{to:{name:"movies"}}},[t._v("电影")]),t._v(" "),e("span",[t._v(" / ")]),t._v(" "),e("router-link",{attrs:{to:{name:"b_search-list"}}},[t._v("图书")])]),t._v(" "),e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",name:"search",placeholder:"请输入搜索内容"},domProps:{value:t._s(t.query)},on:{keyup:function(e){t._k(e.keyCode,"enter",13)||t.search(e)},input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"search-btn",attrs:{type:""},on:{click:t.search}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"},{name:"show",rawName:"v-show",value:t.movieList.subjects.length,expression:"movieList.subjects.length"}],staticClass:"movieList",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[e("p",[t._v(t._s(t.movieList.title))]),t._v(" "),e("ul",t._l(t.movieList.subjects,function(i){return e("li",[e("router-link",{attrs:{to:{name:"movie-detail",params:{id:i.id}}}},[e("img",{attrs:{src:i.images.medium,alt:""}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(i.title))])])])})),t._v(" "),e("p",{staticClass:"totals"},[t._v("搜索的结果数："),e("b",[t._v(t._s(t.movieList.total))])]),t._v(" "),e("spinner",{attrs:{show:t.show}})])},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(72),n=s(o),a=i(77),r=s(a),u=i(76),c=s(u),l=i(75),d=s(l),v=i(78),f=s(v),m=i(73),p=s(m),h=i(74),_=s(h);i(71),e.default={components:{vHeader:n.default,vMovie:r.default,movieList:c.default,movieDetail:d.default,searchList:f.default,bookDetail:p.default,b_searchList:_.default}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(4);s(o);e.default={data:function(){return{query:"",path:""}},mounted:function(){this.getPath()},methods:{search:function(){this.getPath(),this.$router.push({path:this.path,query:{query:this.query}}),this.query=""},getPath:function(){this.$route.path.indexOf("movie")!=-1?this.path="/movies/search":this.$route.path.includes("book")&&(this.path="/books/search")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},props:["show"],mounted:function(){}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),n=i(4),a=s(n);e.default={data:function(){return{id:"",show:!0,bookDetail:{}}},components:{spinner:a.default},mounted:function(){var t=this;this.id=this.$route.params.id,(0,o.fetchBookById)(this.id).then(function(e){t.bookDetail=e,t.show=!1})}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),n=i(4),a=s(n),r=i(17),u=s(r);e.default={data:function(){return{show:!0,movieList:{books:[]},query:"",busy:!1}},components:{spinner:a.default},directives:{infiniteScroll:u.default},mounted:function(){console.log("mounted"),this.getPath()},watch:{$route:"loadAgain"},methods:{getPath:function(){this.query=this.$route.query.query?this.$route.query.query:"白夜行"},loadAgain:function(){this.movieList.books=[],this.loadMore()},loadMore:function(){var t=this,e=this.movieList.books.length;this.busy=!0,this.getPath(),(0,o.fetchSearchBook)(this.query,e).then(function(e){t.movieList.books=t.movieList.books.concat(e.books),t.movieList.total=e.total,t.movieList.title=e.title,t.show=!1,t.movieList.books.length<t.movieList.total&&(t.busy=!1)})}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),n=i(4),a=s(n);e.default={data:function(){return{id:"",show:!0,subjectDetail:{}}},components:{spinner:a.default},mounted:function(){var t=this;this.id=this.$route.params.id,(0,o.fetchSubjectById)(this.id).then(function(e){t.subjectDetail=e,t.show=!1})}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),n=i(4),a=s(n),r=i(17),u=s(r);e.default={data:function(){return{show:!0,movieList:{subjects:[]},busy:!1}},components:{spinner:a.default},directives:{infiniteScroll:u.default},mounted:function(){},methods:{loadMore:function(){var t=this,e=this.movieList.subjects.length;this.type=this.$route.query.type,this.busy=!0,(0,o.fetchMoviesByType)(this.type,e).then(function(e){t.movieList.subjects=t.movieList.subjects.concat(e.subjects),t.movieList.total=e.total,t.movieList.title=e.title,t.show=!1,t.movieList.subjects.length<t.movieList.total&&(t.busy=!1)})}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),n=i(4),a=s(n);e.default={data:function(){return{show:!0,inTheater:{},comingSoon:{},top250:{}}},components:{spinner:a.default},mounted:function(){var t=this,e=0,i=15;(0,o.fetchMoviesByType)(o.API_TYPE.movie.in_theaters,e,i).then(function(e){t.inTheater=e,t.inTheater.type=o.API_TYPE.movie.in_theaters,t.show=!1}),(0,o.fetchMoviesByType)(o.API_TYPE.movie.coming_soon,e,i).then(function(e){t.comingSoon=e,t.comingSoon.type=o.API_TYPE.movie.coming_soon,t.show=!1}),(0,o.fetchMoviesByType)(o.API_TYPE.movie.top250,e,i).then(function(e){t.top250=e,t.top250.type=o.API_TYPE.movie.top250,t.show=!1})}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),n=i(4),a=s(n),r=i(17),u=s(r);e.default={data:function(){return{show:!0,movieList:{subjects:[]},query:"",busy:!1}},components:{spinner:a.default},directives:{infiniteScroll:u.default},mounted:function(){this.query=this.$route.query.query},watch:{$route:"loadAgain"},methods:{loadAgain:function(){this.movieList.subjects=[],this.query=this.$route.query.query,this.loadMore()},loadMore:function(){var t=this,e=this.movieList.subjects.length;this.busy=!0,(0,o.fetchSearchMovie)(this.query,e).then(function(e){t.movieList.subjects=t.movieList.subjects.concat(e.subjects),t.movieList.total=e.total,t.movieList.title=e.title,t.show=!1,t.movieList.subjects.length<t.movieList.total&&(t.busy=!1)})}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),n=s(o);e.default=[{path:"/",component:n.default.components.vMovie,name:"index"},{path:"/movies",component:n.default.components.vMovie,name:"movies"},{path:"/movies/list",component:n.default.components.movieList,name:"movie-list"},{path:"/movies/subjects/:id",component:n.default.components.movieDetail,name:"movie-detail"},{path:"/movies/search",component:n.default.components.searchList,name:"search-list"},{path:"/books/search",component:n.default.components.b_searchList,name:"b_search-list"},{path:"/books/:id",component:n.default.components.bookDetail,name:"book-detail"}]}]);